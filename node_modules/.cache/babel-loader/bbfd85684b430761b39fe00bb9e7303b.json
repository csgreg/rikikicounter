{"ast":null,"code":"var _jsxFileName = \"/Users/csgergo/Documents/projects/adu/adu/src/Menu/Create.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Create({\n  socket,\n  setRoomId,\n  players,\n  roomId,\n  setPlayers,\n  game,\n  setGame\n}) {\n  _s();\n\n  const [playerName, setPlayerName] = useState(\"\");\n\n  async function handleCreateRoom() {\n    let room = \"\";\n    await socket.emit(\"create-room\", 5, response => {\n      setRoomId(response.roomId);\n      console.log(response.roomId);\n      room = response.roomId;\n    });\n    players[socket.id] = {\n      \"name\": playerName,\n      \"socketid\": socket.id,\n      \"point\": 0,\n      \"tip\": 0,\n      \"boss\": true\n    };\n    setPlayers(players);\n    game = {\n      \"laps\": 0,\n      \"players\": 1\n    };\n    setGame(game); //set state\n\n    console.log(room);\n    await socket.emit(\"sync-state\", room, `{\"game\": ${JSON.stringify(game)}, \"players\": ${JSON.stringify(players)} }`, false, response => {\n      console.log(\"state synced\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"create\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"createtitle\",\n      className: \"title is-1\",\n      children: \"\\xDAj szoba l\\xE9trehoz\\xE1sa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"startnameinput\",\n      onChange: event => setPlayerName(event.target.value),\n      className: \"input is-rounded is-warning\",\n      type: \"text\",\n      placeholder: \"J\\xE1t\\xE9kos n\\xE9v\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 182\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"startbtn\",\n      onClick: () => handleCreateRoom(),\n      className: \"button is-warning is-rounded startbtn\",\n      children: \"L\\xE9trehoz\\xE1s\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Create, \"3+cdahagJgmxe+IAHzDT7/VgSVw=\");\n\n_c = Create;\n\nvar _c;\n\n$RefreshReg$(_c, \"Create\");","map":{"version":3,"sources":["/Users/csgergo/Documents/projects/adu/adu/src/Menu/Create.js"],"names":["useState","Create","socket","setRoomId","players","roomId","setPlayers","game","setGame","playerName","setPlayerName","handleCreateRoom","room","emit","response","console","log","id","JSON","stringify","event","target","value"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;;AAGA,OAAO,SAASC,MAAT,CAAgB;AAACC,EAAAA,MAAD;AAASC,EAAAA,SAAT;AAAoBC,EAAAA,OAApB;AAA6BC,EAAAA,MAA7B;AAAqCC,EAAAA,UAArC;AAAiDC,EAAAA,IAAjD;AAAuDC,EAAAA;AAAvD,CAAhB,EAAgF;AAAA;;AACnF,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;;AAEA,iBAAeW,gBAAf,GAAiC;AAC7B,QAAIC,IAAI,GAAG,EAAX;AACA,UAAMV,MAAM,CAACW,IAAP,CAAY,aAAZ,EAA2B,CAA3B,EAA+BC,QAAD,IAAc;AAC9CX,MAAAA,SAAS,CAACW,QAAQ,CAACT,MAAV,CAAT;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACT,MAArB;AACAO,MAAAA,IAAI,GAAGE,QAAQ,CAACT,MAAhB;AACH,KAJK,CAAN;AAKAD,IAAAA,OAAO,CAACF,MAAM,CAACe,EAAR,CAAP,GAAqB;AAAC,cAAOR,UAAR;AAAoB,kBAAYP,MAAM,CAACe,EAAvC;AAA2C,eAAS,CAApD;AAAuD,aAAO,CAA9D;AAAiE,cAAQ;AAAzE,KAArB;AACAX,IAAAA,UAAU,CAACF,OAAD,CAAV;AACAG,IAAAA,IAAI,GAAG;AAAC,cAAQ,CAAT;AAAY,iBAAW;AAAvB,KAAP;AACAC,IAAAA,OAAO,CAACD,IAAD,CAAP,CAV6B,CAY7B;;AACAQ,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,UAAMV,MAAM,CAACW,IAAP,CAAY,YAAZ,EAA0BD,IAA1B,EACD,YAAWM,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAqB,gBAAeW,IAAI,CAACC,SAAL,CAAef,OAAf,CAAwB,IADtE,EAC2E,KAD3E,EAEDU,QAAD,IAAc;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACH,KAJC,CAAN;AAMH;;AAED,sBACI;AAAK,IAAA,EAAE,EAAC,QAAR;AAAA,4BACI;AAAI,MAAA,EAAE,EAAC,aAAP;AAAqB,MAAA,SAAS,EAAC,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAO,MAAA,EAAE,EAAC,gBAAV;AAA2B,MAAA,QAAQ,EAAGI,KAAD,IAAWV,aAAa,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA7D;AAAmF,MAAA,SAAS,EAAC,6BAA7F;AAA2H,MAAA,IAAI,EAAC,MAAhI;AAAuI,MAAA,WAAW,EAAC;AAAnJ;AAAA;AAAA;AAAA;AAAA,YAFJ,eAE6K;AAAA;AAAA;AAAA;AAAA,YAF7K,eAGI;AAAQ,MAAA,EAAE,EAAC,UAAX;AAAsB,MAAA,OAAO,EAAE,MAAMX,gBAAgB,EAArD;AAAyD,MAAA,SAAS,EAAC,uCAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH;;GAhCeV,M;;KAAAA,M","sourcesContent":["import { useState } from \"react\";\n\n\nexport function Create({socket, setRoomId, players, roomId, setPlayers, game, setGame}){\n    const [playerName, setPlayerName] = useState(\"\");\n\n    async function handleCreateRoom(){\n        let room = \"\";\n        await socket.emit(\"create-room\", 5, (response) => {\n            setRoomId(response.roomId);\n            console.log(response.roomId);\n            room = response.roomId;\n        });\n        players[socket.id] = {\"name\":playerName, \"socketid\": socket.id, \"point\": 0, \"tip\": 0, \"boss\": true};\n        setPlayers(players);\n        game = {\"laps\": 0, \"players\": 1};\n        setGame(game);\n        \n        //set state\n        console.log(room);\n        await socket.emit(\"sync-state\", room,\n            `{\"game\": ${JSON.stringify(game)}, \"players\": ${JSON.stringify(players)} }`, false,\n            (response) => {\n                console.log(\"state synced\");\n            }\n        );\n    }\n\n    return(\n        <div id=\"create\">\n            <h1 id=\"createtitle\" className=\"title is-1\">Új szoba létrehozása</h1>\n            <input id=\"startnameinput\" onChange={(event) => setPlayerName(event.target.value)} className=\"input is-rounded is-warning\" type=\"text\" placeholder=\"Játékos név\"></input><br></br>\n            <button id=\"startbtn\" onClick={() => handleCreateRoom()} className=\"button is-warning is-rounded startbtn\">Létrehozás</button>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}