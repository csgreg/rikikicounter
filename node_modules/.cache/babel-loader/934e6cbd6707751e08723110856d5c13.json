{"ast":null,"code":"var _jsxFileName = \"/Users/csgergo/Documents/projects/adu/adu/src/Menu/Join.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Join({\n  socket,\n  setRoomId,\n  players,\n  setPlayers,\n  game,\n  setGame\n}) {\n  _s();\n\n  const [joinName, setJoinName] = useState(\"\");\n  const [joinCode, setJoinCode] = useState(\"\");\n\n  async function handleJoin() {\n    console.log(joinCode);\n    await socket.emit(\"join-room\", joinCode, response => {\n      if (response.status === \"ok\") {\n        console.log(\"sikeres\");\n        setRoomId(joinCode); //get state\n\n        socket.emit(\"get-state\", joinCode, response => {\n          console.log(response);\n          let obh = JSON.parse(response.state);\n          let obj = JSON.parse(obh);\n          console.log(obj);\n          obj.players.push({\n            \"name\": joinName,\n            \"socketid\": socket.id,\n            \"point\": 0,\n            \"tip\": 0,\n            \"boss\": false\n          });\n          obj.game.players += 1;\n          setPlayers(obj.players);\n          setGame(obj.game);\n          setTimeout(() => {\n            console.log(players);\n            console.log(game);\n          }, 122);\n        });\n      } else {\n        alert(\"Helytelen kód!\");\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"join\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"jointitle\",\n      className: \"title is-1\",\n      children: \"Csatlakoz\\xE1s megl\\xE9v\\u0151 szob\\xE1hoz\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"joinroominput\",\n      onChange: event => setJoinCode(event.target.value),\n      className: \"input is-rounded is-warning\",\n      type: \"text\",\n      placeholder: \"Szoba azonos\\xEDt\\xF3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 183\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"joinnameinput\",\n      onChange: event => setJoinName(event.target.value),\n      className: \"input is-rounded is-warning\",\n      type: \"text\",\n      placeholder: \"J\\xE1t\\xE9kos n\\xE9v\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 179\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"joinbtn\",\n      onClick: () => handleJoin(),\n      className: \"button is-warning is-rounded startbtn\",\n      children: \"Csatlakoz\\xE1s\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Join, \"YjZ6LuKutvvJDn2ZPaVY0N6zM5M=\");\n\n_c = Join;\n\nvar _c;\n\n$RefreshReg$(_c, \"Join\");","map":{"version":3,"sources":["/Users/csgergo/Documents/projects/adu/adu/src/Menu/Join.js"],"names":["useState","Join","socket","setRoomId","players","setPlayers","game","setGame","joinName","setJoinName","joinCode","setJoinCode","handleJoin","console","log","emit","response","status","obh","JSON","parse","state","obj","push","id","setTimeout","alert","event","target","value"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\n\nexport function Join({socket, setRoomId, players, setPlayers, game, setGame}){\n    const [joinName, setJoinName] = useState(\"\");\n    const [joinCode, setJoinCode] = useState(\"\");\n\n    async function handleJoin(){\n        console.log(joinCode);\n        await socket.emit(\"join-room\", joinCode, (response) => {\n            if (response.status === \"ok\") {\n                console.log(\"sikeres\");\n                setRoomId(joinCode);\n                //get state\n\n                socket.emit(\"get-state\", joinCode, (response) => {\n                    console.log(response);\n                    let obh = JSON.parse(response.state);\n                    let obj = JSON.parse(obh);\n                    console.log(obj);\n                    obj.players.push({\"name\":joinName, \"socketid\": socket.id, \"point\": 0, \"tip\": 0, \"boss\": false});\n                    obj.game.players += 1;\n                    setPlayers(obj.players);\n                    setGame(obj.game);\n                    setTimeout(() => {\n                        console.log(players);\n                        console.log(game);\n                    },122)\n                })\n            } else {\n              alert(\"Helytelen kód!\");\n            }\n        });\n    }\n\n    return(\n        <div className=\"join\">\n            <h1 id=\"jointitle\" className=\"title is-1\">Csatlakozás meglévő szobához</h1>\n            <input id=\"joinroominput\" onChange={(event) => setJoinCode(event.target.value)} className=\"input is-rounded is-warning\" type=\"text\" placeholder=\"Szoba azonosító\"></input><br></br>\n            <input id=\"joinnameinput\" onChange={(event) => setJoinName(event.target.value)} className=\"input is-rounded is-warning\" type=\"text\" placeholder=\"Játékos név\"></input><br></br>\n            <button id=\"joinbtn\" onClick={() => handleJoin()} className=\"button is-warning is-rounded startbtn\">Csatlakozás</button>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}